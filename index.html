<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Nasciturus</title>
<link rel="stylesheet" href="estilos.css">
<link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Amatic+SC:wght@400;700&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&display=swap" rel="stylesheet">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
</head>
<body>
<header>
<img id="logo" src="/img/logo.png">
<h1>Nasciturus</h1>
</header>
<div id="entradas">
</div>
<script>
$.get( "https://docs.google.com/spreadsheets/d/1GyrAylOXuLyXxLpG59WzHgUsRiA6vvmb9wvxorY-24s/export?format=csv", function( data ) {
    data = data.split(/(?:,|\n|^)("(?:(?:"")*[^"]*)*"|[^",\n]*|(?:\n|$))/);
    for (i=0; i<data.length; i++) {
      if (data[i] == "") {
        data.splice(i,1);
      }
    }
    for (i=0; i<data.length; i++) {
      data[i] = data[i].replace(/\"/g,"");
      data[i] = data[i].replace(/\n/g,"<br>");
    }
    data.splice(0,3);

    var entradas = new Array();
    entradas[0] = new Array(data[0], data[1], data[2]);
    for (i=3; i<data.length; i++) {
      if (data[i] == "\r") {
        entradas[entradas.length] = new Array (data[i+1], data[i+2], data[i+3]);
      }
    }

    entradas = entradas.reverse();

    var html = "";

    for (i=0; i<entradas.length; i++) {
      html += "<article class='cursiva'><h2>";
      html += entradas[i][1];
      html += "</h2><p>";
      html += entradas[i][2];
      html += "</p></article>";
    }

    $("#entradas").append(html);
});
</script>
</body>
</html>